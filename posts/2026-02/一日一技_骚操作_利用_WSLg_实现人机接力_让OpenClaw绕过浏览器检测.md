---
title: "一日一技：骚操作，利用 WSLg 实现人机接力，让OpenClaw绕过浏览器检测"
date: 2026-02-08T14:05:34Z
draft: ["false"]
tags: [
  "fetched",
  "未闻Code"
]
categories: ["Duty"]
---
一日一技：骚操作，利用 WSLg 实现人机接力，让OpenClaw绕过浏览器检测 by 未闻Code
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" data-pm-slice="0 0 []" data-mpa-action-id="mldk3851r3m"><section nodeleaf=""><img data-aistatus="1" data-imgfileid="501507780" data-ratio="0.5625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/2kbib4svZTtAG6cl6u6kLaKqLUAoGACLAloYUaFmicRsNhXHib5Vwibdc7wsZibmicYSBNxX8SoMVDZpQajQicMy0Diao0elVJqpS71gQFNGATGPSIw/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1280" type="block" src="https://mmbiz.qpic.cn/mmbiz_jpg/2kbib4svZTtAG6cl6u6kLaKqLUAoGACLAloYUaFmicRsNhXHib5Vwibdc7wsZibmicYSBNxX8SoMVDZpQajQicMy0Diao0elVJqpS71gQFNGATGPSIw/640?wx_fmt=jpeg&amp;from=appmsg"></section><p><span leaf="" mpa-font-style="mldk384idv9"><span textstyle="">摄影：产品经理</span></span></p><p><span mpa-font-style="mldk31cz1ypg"><span mpa-font-style="mldk384i1ooz"><span leaf="">又酸又甜的熏鱼</span></span></span></p><p data-tool="mdnice编辑器"><span leaf="">在使用 OpenClaw 进行任务自动化时，我们经常会遇到一个棘手的问题：</span><strong><span leaf="">浏览器风控</span></strong><span leaf="">。</span></p><p data-tool="mdnice编辑器"><span leaf="" data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;data-tool&quot;:&quot;mdnice编辑器&quot;,&quot;data-website&quot;:&quot;https://www.mdnice.com&quot;,&quot;style&quot;:&quot;margin-top: 0px;margin-bottom: 0px;margin-left: 0px;margin-right: 0px;padding-top: 0px;padding-bottom: 0px;padding-left: 10px;padding-right: 10px;background-attachment: scroll;background-clip: border-box;background-color: rgba(0, 0, 0, 0);background-image: none;background-origin: padding-box;background-position-x: left;background-position-y: top;background-repeat: no-repeat;background-size: auto;width: auto;font-family: Optima, 'Microsoft YaHei', PingFangSC-regular, serif;font-size: 16px;color: rgb(0, 0, 0);line-height: 1.5em;word-spacing: 0em;letter-spacing: 0em;word-break: break-word;overflow-wrap: break-word;text-align: left;&quot;,&quot;data-pm-slice&quot;:&quot;0 0 []&quot;,&quot;data-mpa-action-id&quot;:&quot;mldk3851r3m&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;data-tool&quot;:&quot;mdnice编辑器&quot;,&quot;style&quot;:&quot;color: rgb(0, 0, 0);font-size: 16px;line-height: 1.8em;letter-spacing: 0em;text-align: left;text-indent: 0em;margin-top: 0px;margin-bottom: 0px;margin-left: 0px;margin-right: 0px;padding-top: 8px;padding-bottom: 8px;padding-left: 0px;padding-right: 0px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">OpenClaw</span><span leaf="">运行在纯净的 WSL2 (Linux Server) 环境中，当它</span><span leaf="" data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;data-tool&quot;:&quot;mdnice编辑器&quot;,&quot;data-website&quot;:&quot;https://www.mdnice.com&quot;,&quot;style&quot;:&quot;margin-top: 0px;margin-bottom: 0px;margin-left: 0px;margin-right: 0px;padding-top: 0px;padding-bottom: 0px;padding-left: 10px;padding-right: 10px;background-attachment: scroll;background-clip: border-box;background-color: rgba(0, 0, 0, 0);background-image: none;background-origin: padding-box;background-position-x: left;background-position-y: top;background-repeat: no-repeat;background-size: auto;width: auto;font-family: Optima, 'Microsoft YaHei', PingFangSC-regular, serif;font-size: 16px;color: rgb(0, 0, 0);line-height: 1.5em;word-spacing: 0em;letter-spacing: 0em;word-break: break-word;overflow-wrap: break-word;text-align: left;&quot;,&quot;data-pm-slice&quot;:&quot;0 0 []&quot;,&quot;data-mpa-action-id&quot;:&quot;mldk3851r3m&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;data-tool&quot;:&quot;mdnice编辑器&quot;,&quot;style&quot;:&quot;color: rgb(0, 0, 0);font-size: 16px;line-height: 1.8em;letter-spacing: 0em;text-align: left;text-indent: 0em;margin-top: 0px;margin-bottom: 0px;margin-left: 0px;margin-right: 0px;padding-top: 8px;padding-bottom: 8px;padding-left: 0px;padding-right: 0px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">尝试用浏览器访问 Google 或 X (Twitter) 时，往往会被识别为“机器人”或者“可疑设备”。面对 Google 的九宫格红绿灯验证码，或者 X 的“已防止可疑登录”弹窗，运行在后台的 AI 往往束手无策——因为它“看不见”也“摸不着”，更没法像真人一样掏出手机收个验证码。</span></p><p data-tool="mdnice编辑器"><strong><span leaf="">最完美的解决方案是什么？</span></strong><span leaf="">不是在那死磕指纹浏览器技术，而是引入</span><strong><span leaf="">Human-in-the-loop（人机协作）</span></strong><span leaf="">。</span></p><p data-tool="mdnice编辑器"><span leaf="">让 OpenClaw 把浏览器“递”给你，你负责搞定最难的登录和验证码，然后你再把浏览器“还”给 OpenClaw，让它继续执行自动化任务。</span></p><p data-tool="mdnice编辑器"><span leaf="">今天我在折腾 OpenClaw 时，发现 Windows 11 的 </span><strong><span leaf="">WSLg (WSL GUI)</span></strong><span leaf=""> 功能配合<span textstyle=""> </span></span><strong><span leaf=""><span textstyle="">Chrome 远程调试协议 (CDP)</span></span><strong><span leaf=""><span textstyle="">，竟然能完美实现这种</span></span></strong><span leaf=""><span textstyle="">人机接力</span></span></strong><span leaf=""><span textstyle="">。</span></span></p><h3 data-tool="mdnice编辑器"><span></span><span><span leaf="">0x00 痛点</span></span><span></span></h3><p data-tool="mdnice编辑器"><span leaf="">OpenClaw 在 WSL2 里跑得欢，但只要一上网：</span></p><ul><li><section><strong><span leaf="">痛点 1</span></strong><span leaf="">：没有图形界面，出了验证码我看不到。</span></section></li><li><section><strong><span leaf="">痛点 2</span></strong><span leaf="">：IP 是机房/代理 IP，账号容易被风控拦截。</span></section></li><li><section><strong><span leaf="">痛点 3</span></strong><span leaf="">：想用 Windows 本地的浏览器吧，环境又不统一（文件路径、依赖库）。</span></section></li></ul><h3 data-tool="mdnice编辑器"><span></span><span><span leaf="">0x01 脑洞：把 Linux 浏览器“投射”到 Windows</span></span><span></span></h3><p data-tool="mdnice编辑器"><span leaf="">Windows 11 的 WSLg 有个神奇的特性：你在 WSL 里安装的 GUI 软件（比如 Chrome），可以直接在 Windows 桌面以窗口形式运行，就像原生应用一样。</span></p><p data-tool="mdnice编辑器"><strong><span leaf="">关键点来了：</span></strong><span leaf="">既然它在 Windows 上有窗口，那我（人类）就可以</span><strong><span leaf=""><span textstyle="">用鼠标去操作它</span></span></strong><span leaf="">（过验证码、登录）； 既然它本质上还是运行在 Linux 里的进程，那 OpenClaw 就可以</span><strong><span leaf=""><span textstyle="">通过 localhost 去控制它</span></span></strong><span leaf="">！</span></p><h3 data-tool="mdnice编辑器"><span></span><span><span leaf="">0x02 实操步骤</span></span><span></span></h3><p data-tool="mdnice编辑器"><strong><span leaf="">第一步：<span textstyle="">在 WSL 里安装 Chrome</span></span></strong><span leaf="">常规操作，</span><code><span leaf="">apt install google-chrome-stable</span></code><span leaf=""> 搞定。</span></p><p data-tool="mdnice编辑器"><strong><span leaf="">第二步：<span textstyle="">带“私货”启动 Chrome</span></span></strong><span leaf="">我们不能直接点图标启动，得用命令行，因为我们要注入两个灵魂参数：</span></p><ol><li><section><code><span leaf="">--proxy-server</span></code><span leaf="">：让它能翻墙（WSL 里这就很关键了）。</span></section></li><li><section><code><span leaf="">--remote-debugging-port=9222</span></code><span leaf="">：开启 CDP 端口，这是 OpenClaw 接管的后门。</span></section></li></ol><p data-tool="mdnice编辑器"><span leaf="">在 Windows 的 PowerShell 里执行这行命令（注意是用 </span><code><span leaf="">wsl -e</span></code><span leaf=""> 调用）：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">wsl -e google-chrome-stable --proxy-server="http://127.0.0.1:7890" --remote-debugging-port=9222 --user-data-dir=$HOME/.config/google-chrome</span><span leaf=""><br></span></code></pre><p data-tool="mdnice编辑器"><em><span leaf="">注：这里使用了 http 代理以获得更好的兼容性。</span></em></p><p data-tool="mdnice编辑器"><span leaf="">执行完，你会发现 Windows 桌面上弹出了一个 Linux 版的 Chrome。</span></p><p data-tool="mdnice编辑器"><strong><span leaf="">第三步：<span textstyle="">人类进场 (Human-in-the-loop)</span></span></strong><span leaf="">这时候，这个浏览器完全归你控制。</span></p><ul><li><section><span leaf="">输入 </span><code><span leaf="">x.com</span></code><span leaf="">。</span></section></li><li><section><span leaf="">输入账号密码。</span></section></li><li><section><span leaf="">遇到验证码？</span><strong><span leaf=""><span textstyle="">用你的肉眼和鼠标搞定它！</span></span></strong></section></li><li><section><span leaf="">登录成功，看到 Timeline。</span></section></li></ul><p data-tool="mdnice编辑器"><strong><span leaf="">第四步：<span textstyle="">OpenClaw 接管</span></span></strong><span leaf="">保持浏览器不关。现在，可以让 OpenClaw 开始干活了。我让 OpenClaw 写了一段 Playwright 脚本，不需要 </span><code><span leaf="">launch</span></code><span leaf=""> 新浏览器，而是直接 </span><code><span leaf="">connect</span></code><span leaf=""> 刚才那个窗口：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span><span leaf="">from</span></span><span leaf=""> playwright.sync_api </span><span><span leaf="">import</span></span><span leaf=""> sync_playwright</span><span leaf=""><br></span><span leaf=""><br></span><span><span leaf="">with</span></span><span leaf=""> sync_playwright() </span><span><span leaf="">as</span></span><span leaf=""> p:</span><span leaf=""><br></span><span leaf="">    </span><span><span leaf=""># 直接连上那个已经被你打开、已经登录好的浏览器</span></span><span leaf=""><br></span><span leaf="">    browser = p.chromium.connect_over_cdp(</span><span><span leaf="">"http://localhost:9222"</span></span><span leaf="">)</span><span leaf=""><br></span><span leaf="">    </span><span leaf=""><br></span><span leaf="">    </span><span><span leaf=""># 找到刚才的页面上下文</span></span><span leaf=""><br></span><span leaf="">    context = browser.contexts[</span><span><span leaf="">0</span></span><span leaf="">]</span><span leaf=""><br></span><span leaf="">    page = context.pages[</span><span><span leaf="">0</span></span><span leaf="">]</span><span leaf=""><br></span><span leaf="">    </span><span leaf=""><br></span><span leaf="">    </span><span><span leaf=""># 开始自动化表演</span></span><span leaf=""><br></span><span leaf="">    </span><span><span leaf=""># 比如：自动发一条推文</span></span><span leaf=""><br></span><span leaf="">    page.goto(</span><span><span leaf="">"https://x.com/compose/tweet"</span></span><span leaf="">)</span><span leaf=""><br></span><span leaf="">    page.keyboard.type(</span><span><span leaf="">"太神奇了，Windows11竟然可以用图形界面打开安装在wsl里面的Chrome！"</span></span><span leaf="">)</span><span leaf=""><br></span><span leaf="">    page.click(</span><span><span leaf="">"button[data-testid='tweetButton']"</span></span><span leaf="">)</span><span leaf=""><br></span></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span leaf="">0x03 效果展示</span></span><span></span></h3><p data-tool="mdnice编辑器"><span leaf="">这就好比你开着一辆车（浏览器），过收费站（验证码/登录）的时候是你自己开的，过了收费站上了高速，你按了一下按钮，</span><strong><span leaf=""><span textstyle="">OpenClaw（AI）</span></span></strong><span leaf=""> 接管了方向盘。</span></p><p data-tool="mdnice编辑器"><span leaf="">下图就是 OpenClaw 在我手动登录后，接管浏览器自动发出的推文：</span></p><section nodeleaf=""><img data-aistatus="1" data-imgfileid="501507784" data-ratio="1.00703125" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/2kbib4svZTtC7wWke8nTg87a8KsAZDWnOib8SQwChkhzSDLA9yZcJ9PsKk9egjrlQxvLWrzrqeiaNvnkrQKntpCmA0PmPe4HVO3Gd52gyhLfoc/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1280" type="block" src="https://mmbiz.qpic.cn/mmbiz_jpg/2kbib4svZTtC7wWke8nTg87a8KsAZDWnOib8SQwChkhzSDLA9yZcJ9PsKk9egjrlQxvLWrzrqeiaNvnkrQKntpCmA0PmPe4HVO3Gd52gyhLfoc/640?wx_fmt=jpeg&amp;from=appmsg"></section><p data-tool="mdnice编辑器"><span leaf="">这套方案完美解决了：</span></p><ol><li><section><strong><span leaf="">环境隔离</span></strong><span leaf="">：OpenClaw 依然跑在 Linux 里，文件系统、依赖库完全无需适配 Windows。</span></section></li><li><section><strong><span leaf="">过风控</span></strong><span leaf="">：最难的登录环节由人工完成，Cookies 和 Session 完美保留在 Linux 容器中。</span></section></li><li><section><strong><span leaf="">可视化调试</span></strong><span leaf="">：OpenClaw 操作时，你能在桌面上看着它点，哪里卡住了如指掌。</span></section></li></ol><h3 data-tool="mdnice编辑器"><span></span><span><span leaf="">0x04 防杠指南</span></span><span></span></h3><p data-tool="mdnice编辑器"><span leaf="">肯定有人要问：“这么麻烦，为什么不直接买个 Mac mini 用原生环境跑？”</span></p><p data-tool="mdnice编辑器"><strong><span leaf="">如果有 Mac mini，我吃饱了撑的还在这儿搞 Windows 跑 WSL？</span></strong><span leaf="">这不就是给咱们 Windows 党留的一条活路吗？😂</span></p><section data-pm-slice="0 0 []"><section><section><section><section><svg viewbox="0 0 1 1"></svg></section></section></section><section><section><p><span leaf="">END</span></p></section><section><section><svg viewbox="0 0 1 1"></svg></section></section></section><section><section><section><svg viewbox="0 0 1 1"></svg></section></section></section></section><section><section nodeleaf=""><img data-aistatus="1" data-imgfileid="501507783" data-ratio="0.5490741" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/2kbib4svZTtAeMXXCErnQWw0cJ3KfjicWfdoRZ1NT3jYiaib6MPwbianW25lldsew9InFWGkhlEDB3JDGON1f6FPmh6bXaaKoZKC2yDrGgEffDp4/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_jpg/2kbib4svZTtAeMXXCErnQWw0cJ3KfjicWfdoRZ1NT3jYiaib6MPwbianW25lldsew9InFWGkhlEDB3JDGON1f6FPmh6bXaaKoZKC2yDrGgEffDp4/640?wx_fmt=jpeg&amp;from=appmsg"></section></section><section><p><span><span leaf="">未闻 Code·知识星球开放啦！</span></span></p><p><span leaf="">一对一答疑爬虫相关问题</span></p><p><span leaf="">职业生涯咨询</span></p><p><span leaf="">面试经验分享</span></p><p><span leaf="">每周直播分享</span></p><p><span leaf="">......</span></p><p><span leaf="">未闻 Code·知识星球期待与你相见~</span></p><section nodeleaf=""><img data-aistatus="1" data-imgfileid="501494151" data-ratio="0.5555555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_gif/ohoo1dCmvqeiagWjcfyicsibNKgNOEnyAkb06AMF5eG1K2jEXjUxqkV9EUaNXIjDEibQPAV2sJak2dJibiamc2jw0z6g/640?wx_fmt=gif" data-type="gif" data-w="639" type="block" src="https://mmbiz.qpic.cn/mmbiz_gif/ohoo1dCmvqeiagWjcfyicsibNKgNOEnyAkb06AMF5eG1K2jEXjUxqkV9EUaNXIjDEibQPAV2sJak2dJibiamc2jw0z6g/640?wx_fmt=gif"></section></section></section></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/9Cz9nnJRP9MqVsttsE_j8Q",target="_blank" rel="noopener noreferrer">原文链接</a>
