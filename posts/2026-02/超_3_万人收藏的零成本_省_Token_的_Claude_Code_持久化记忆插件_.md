---
title: "超 3 万人收藏的零成本、省 Token 的 Claude Code 持久化记忆插件！"
date: 2026-02-22T14:26:55Z
draft: ["false"]
tags: [
  "fetched",
  "未闻Code"
]
categories: ["Duty"]
---
超 3 万人收藏的零成本、省 Token 的 Claude Code 持久化记忆插件！ by 未闻Code
------
<div><p data-pm-slice="0 0 []"><span leaf=""> </span></p><section><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_jpg/ohoo1dCmvqficd5dvzOUvUV9YAfl2AUtMBibtrr700SAhfeeuZPBmLRoTxOOQLBuHtoJicECTJQAiaOHFLOsc8Y0bw/640?wx_fmt=jpeg&amp;from=appmsg" data-ratio="0.5625" data-s="300,640" data-type="jpeg" data-w="1280" type="block" data-imgfileid="501506620" data-aistatus="1" src="https://mmbiz.qpic.cn/mmbiz_jpg/ohoo1dCmvqficd5dvzOUvUV9YAfl2AUtMBibtrr700SAhfeeuZPBmLRoTxOOQLBuHtoJicECTJQAiaOHFLOsc8Y0bw/640?wx_fmt=jpeg&amp;from=appmsg"></section><p><span leaf="">在AI编程圈有一个流传已久的“玄学”：每次打开 Claude Code 写代码，都要经历一场漫长的「背景介绍仪式」。</span></p><blockquote><p><span leaf=""><span textstyle="">比如：“你好，我有一个React项目，用的是TypeScript，搭配Vite构建，之前我们实现了用户认证模块，现在要接入支付功能...”</span></span></p></blockquote><p><span leaf="">如果你跳过这步，直接让 Claude 干活，它大概率会一脸茫然地问：</span><em><span leaf="">“请问这个项目的结构是怎样的？”“支付模块的具体需求是什么？”</span></em></p><p><span leaf="">别问为什么，问就是——AI记性差。</span></p><p><span leaf="">这种“失忆症”几乎困扰着每一个用 Claude Code 的开发者。每次新建会话，之前辛辛苦苦积累的代码理解、项目架构、踩坑经验，全部清零从头来过。</span></p><p><span leaf="">Token烧了一套又一套，效率却原地踏步。</span></p><p><span leaf="">直到最近，GitHub 上出现了一个爆款项目——</span><strong><span leaf="">Claude-Mem</span></strong><span leaf="">。这个项目的出现，直接戳中了目前所有AI编程助手的致命痛点：</span><strong><span leaf="">跨会话失忆</span></strong><span leaf="">。</span></p><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/rfBHhQhezUhyBTXWU9usgu4crOCgJBicwArY7icfZ9PgpIrn7oicXpkX8YXFUQBEngGxYRbrczeGPHaf35I7PicEhK6f4puEibxJXhW6co2u01YY/640?wx_fmt=png&amp;from=appmsg" data-ratio="1.168384879725086" data-s="300,640" data-type="png" data-w="582" type="block" data-imgfileid="100021720" data-aistatus="1" src="https://mmbiz.qpic.cn/sz_mmbiz_png/rfBHhQhezUhyBTXWU9usgu4crOCgJBicwArY7icfZ9PgpIrn7oicXpkX8YXFUQBEngGxYRbrczeGPHaf35I7PicEhK6f4puEibxJXhW6co2u01YY/640?wx_fmt=png&amp;from=appmsg"></section><p><span leaf="">而且，它还免费，还能帮你省 Token 钱！</span></p><p><span leaf="">直接冲上了 GitHub Trending 热榜。目前，这个项目已经拿下了 30K Star，更是挤进了 GitHub Trending 月榜Top10。</span></p><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/rfBHhQhezUgmeHyDyWTn2x3gAUT7fsJkNYI9qCzKYk5d5ib5bDCGElN3cfoMGm36N8IIlic9MEAvIicO5hUftyRibEQDzHRbpCE914M0P9gqBSo/640?wx_fmt=png&amp;from=appmsg" data-ratio="0.4777777777777778" data-s="300,640" data-type="png" data-w="1080" type="block" data-imgfileid="100021721" data-aistatus="1" src="https://mmbiz.qpic.cn/sz_mmbiz_png/rfBHhQhezUgmeHyDyWTn2x3gAUT7fsJkNYI9qCzKYk5d5ib5bDCGElN3cfoMGm36N8IIlic9MEAvIicO5hUftyRibEQDzHRbpCE914M0P9gqBSo/640?wx_fmt=png&amp;from=appmsg"></section><h3 data-heading="true"><span leaf="">01 项目简介</span></h3><p><span leaf="">Claude-Mem 是专门为 Claude Code 打造的一款持久化记忆插件。简单说，它就是给AI装了个"硬盘"，让它能记住跨会话的上下文。</span></p><p><span leaf="">装上之后，它会自动捕捉你在会话里的所有操作——文件读写、代码编辑、命令执行——然后压缩成精炼摘要存起来。</span></p><p><span leaf="">下次开新会话，这些信息自动注入上下文。你甚至感觉不到它的存在，但它一直在后台默默干活。</span></p><p><span leaf="">它的工作原理是这样的：通过5个生命周期钩子（Hooks）渗透进Claude的每一个操作环节：</span></p><ul><li><section><span leaf="">• </span><strong><span leaf="">SessionStart</span></strong><span leaf="">：会话启动时，自动注入历史记忆</span></section></li><li><section><span leaf="">• </span><strong><span leaf="">UserPromptSubmit</span></strong><span leaf="">：用户提交指令时，记录问题和上下文</span></section></li><li><section><span leaf="">• </span><strong><span leaf="">PostToolUse</span></strong><span leaf="">：工具执行后，捕获Read/Write/Edit等操作</span></section></li><li><section><span leaf="">• </span><strong><span leaf="">Stop</span></strong><span leaf="">：任务暂停时，保存中间状态</span></section></li><li><section><span leaf="">• </span><strong><span leaf="">SessionEnd</span></strong><span leaf="">：会话结束时，生成摘要并压缩</span></section></li></ul><h3 data-heading="true"><span leaf="">02 核心特性</span></h3><ul><li><section><span leaf="">• 🧠 </span><strong><span leaf="">持久化内存</span></strong><span leaf="">：上下文跨会话保留</span></section></li><li><section><span leaf="">• 📊 </span><strong><span leaf="">渐进式披露</span></strong><span leaf="">：分层内存检索,具有令牌成本可见性</span></section></li><li><section><span leaf="">• 🔍 </span><strong><span leaf="">基于技能的搜索</span></strong><span leaf="">：使用 mem-search 技能查询项目历史</span></section></li><li><section><span leaf="">• 🖥️ </span><strong><span leaf="">Web 查看器界面</span></strong><span leaf="">：在 </span><code><span leaf="">http://localhost:37777</span></code><span leaf=""> 实时查看内存流</span></section></li><li><section><span leaf="">• 💻 </span><strong><span leaf="">Claude Desktop 技能</span></strong><span leaf="">：从 Claude Desktop 对话中搜索内存</span></section></li><li><section><span leaf="">• 🔒 </span><strong><span leaf="">隐私控制</span></strong><span leaf="">：使用 </span><code><span leaf="">&lt;private&gt;</span></code><span leaf=""> 标签排除敏感内容的存储</span></section></li><li><section><span leaf="">• ⚙️ </span><strong><span leaf="">上下文配置</span></strong><span leaf="">：精细控制注入的上下文内容</span></section></li><li><section><span leaf="">• 🤖 </span><strong><span leaf="">自动操作</span></strong><span leaf="">：无需手动干预</span></section></li><li><section><span leaf="">• 🔗 </span><strong><span leaf="">引用</span></strong><span leaf="">：使用 ID 引用过去的观察(通过 </span><code><span leaf="">http://localhost:37777/api/observation/{id}</span></code><span leaf=""> 访问，或在 </span><code><span leaf="">http://localhost:37777</span></code><span leaf=""> 的 Web 查看器中查看全部)</span></section></li><li><section><span leaf="">• 🧪 </span><strong><span leaf="">测试版渠道</span></strong><span leaf="">:通过版本切换尝试实验性功能，如无尽模式</span></section></li></ul><h3 data-heading="true"><span leaf="">03 六大“杀招”</span></h3><p><strong><span leaf="">1️⃣ 自动记忆捕获</span></strong></p><p><span leaf="">从安装那一刻起，Claude-Mem就开始默默记录你与Claude的每一次交互。</span></p><p><span leaf="">文件操作、代码修改、命令执行...全部自动存档。不需要任何手动配置，真正的“零感知”运行。</span></p><p><strong><span leaf="">2️⃣ AI观察AI，自动压缩记忆</span></strong></p><p><span leaf="">每次会话结束时，系统会调用Claude Agent SDK，把整个会话期间那些冗长的原始工具使用记录，压缩成结构化的精炼摘要。</span></p><p><span leaf="">包含调查内容、学习成果、已完成工作、后续步骤这几个关键模块。</span></p><p><span leaf="">相当于让Claude自己给自己写“会议纪要”，把1万Token的工具调用记录凝练成500Token的“知识晶体”。</span></p><p><strong><span leaf="">3️⃣ 三层渐进式披露</span></strong></p><p><span leaf="">这是 Claude-Mem 最牛逼的设计：</span><strong><span leaf="">三层渐进式披露（Progressive Disclosure）</span></strong><span leaf="">。它采用分层记忆检索策略，模拟人类的记忆模式：</span></p><p><strong><span leaf="">第一层：Search（索引查询）</span></strong></p><ul><li><section><span leaf="">• 获取紧凑的记忆索引</span></section></li><li><section><span leaf="">• 只包含标题、类型、时间戳</span></section></li><li><section><span leaf="">• Token 消耗：50–100 / 结果</span></section></li><li><section><span leaf="">• 快速浏览，找到感兴趣的内容</span></section></li></ul><p><strong><span leaf="">第二层：Timeline（时间线）</span></strong></p><ul><li><section><span leaf="">• 获取特定观察记录周围的上下文</span></section></li><li><section><span leaf="">• 看看当时发生了什么</span></section></li><li><section><span leaf="">• Token 消耗：中等</span></section></li><li><section><span leaf="">• 了解背景信息</span></section></li></ul><p><strong><span leaf="">第三层：Get Observations（获取完整详情）</span></strong></p><ul><li><section><span leaf="">• 只获取筛选后的完整观察记录</span></section></li><li><section><span leaf="">• 只在真正需要时才获取</span></section></li><li><section><span leaf="">• Token 消耗：500–1,000 / 结果</span></section></li><li><section><span leaf="">• 深入细节</span></section></li></ul><p><span leaf="">这种方式既节省 Token，又不会在需要时显得"浅薄"。常规使用下能节省 </span><strong><span leaf="">90% Token</span></strong><span leaf="">，测试阶段的"无尽模式"更是能把 Token 消耗砍掉 </span><strong><span leaf="">95%</span></strong><span leaf="">，工具调用次数上限直接拉高 </span><strong><span leaf="">20 倍</span></strong><span leaf="">。</span></p><p><strong><span leaf="">4️⃣ Skill级搜索能力</span></strong></p><p><span leaf="">内置mem-search skill，支持自然语言查询你的项目历史。想找“上次那个支付接口怎么写的”，直接问就行。</span></p><p><strong><span leaf="">5️⃣ Web Viewer实时监控</span></strong></p><p><span leaf="">Claude-Mem 提供了一个 Web 查看器，你可以通过 </span><code><span leaf="">http://localhost:37777</span></code><span leaf=""> 访问：</span></p><ul><li><section><span leaf="">• 实时查看所有记忆记录</span></section></li><li><section><span leaf="">• 按时间、类型、项目筛选</span></section></li><li><section><span leaf="">• 查看完整的观察记录详情</span></section></li><li><section><span leaf="">• 管理和配置设置</span></section></li><li><section><span leaf="">• 切换稳定版和测试版</span></section></li></ul><p><span leaf="">就是给 Claude 的记忆加了一个可视化界面，你可以随时查看它"记住"了什么。所有观察记录、历史会话，一目了然。</span></p><p><strong><span leaf="">6️⃣ 隐私保护</span></strong></p><p><span leaf="">如果你有一些敏感内容不想被存储，可以使用 </span><code><span leaf="">&lt;private&gt;</span></code><span leaf=""> 标签来排除：</span></p><pre><span><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="45px" height="13px" viewbox="0 0 450 130"><ellipse cx="50" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"></ellipse><ellipse cx="225" cy="65" rx="50" ry="52" stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"></ellipse><ellipse cx="400" cy="65" rx="50" ry="52" stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"></ellipse></svg></span><code data-language-pending="" data-raw-code="&lt;private&gt;这个部分包含敏感信息，不会被存储&lt;/private&gt;" data-show-line-number="false"><span leaf="">&lt;private&gt;</span><span leaf=""><br></span><span leaf="">这个部分包含敏感信息，不会被存储</span><span leaf=""><br></span><span leaf="">&lt;/private&gt;</span></code></pre><p><span leaf="">所有数据都存储在你的本地目录 </span><code><span leaf="">~/.claude-mem/</span></code><span leaf="">，不会上传到任何服务器，隐私风险完全可控。</span></p><h3 data-heading="true"><span leaf="">04 快速上手</span></h3><p><span leaf="">Claude-Mem的安装超级简单，在 Claude Code 终端里直接执行以下命令即可：</span></p><pre><span><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="45px" height="13px" viewbox="0 0 450 130"><ellipse cx="50" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"></ellipse><ellipse cx="225" cy="65" rx="50" ry="52" stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"></ellipse><ellipse cx="400" cy="65" rx="50" ry="52" stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"></ellipse></svg></span><code><span leaf="">/plugin marketplace add thedotmack/claude-mem</span><span leaf=""><br></span><span leaf=""><br></span><span leaf="">/plugin install claude-mem</span></code></pre><p><span leaf="">重启 Claude Code。之前会话的上下文将自动显示在新会话中。</span></p><blockquote><p><span leaf=""><span textstyle="">注意： Claude-Mem 也已发布在 npm 上，但它仅npm install -g claude-mem安装SDK/库，不会注册插件钩子或设置 worker 服务。要将 Claude-Mem 作为插件使用，请始终使用/plugin上述命令进行安装。</span></span></p></blockquote><h4 data-heading="true"><span leaf="">🦞 OpenClaw 网关</span></h4><p><span leaf="">使用一条命令即可在 OpenClaw 网关上将 claude-mem 安装为持久内存插件：</span></p><pre><span><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="45px" height="13px" viewbox="0 0 450 130"><ellipse cx="50" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"></ellipse><ellipse cx="225" cy="65" rx="50" ry="52" stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"></ellipse><ellipse cx="400" cy="65" rx="50" ry="52" stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"></ellipse></svg></span><code><span leaf="">curl -fsSL https://install.cmem.ai/openclaw.sh | bash</span></code></pre><p><span leaf="">安装程序会处理依赖项、插件设置、AI 提供商配置、工作进程启动，以及可选的实时观测数据流（推送至 Telegram、Discord、Slack 等平台）。</span></p><p><span leaf="">如果你想搜索历史记录，可以使用 mem-search skill：</span></p><pre><span><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="45px" height="13px" viewbox="0 0 450 130"><ellipse cx="50" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"></ellipse><ellipse cx="225" cy="65" rx="50" ry="52" stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"></ellipse><ellipse cx="400" cy="65" rx="50" ry="52" stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"></ellipse></svg></span><code data-language-pending="" data-raw-code="/mem-search 你上次是怎么解决那个React组件重复渲染问题的" data-show-line-number="false"><span leaf="">/mem-search 你上次是怎么解决那个React组件重复渲染问题的</span></code></pre><p><span leaf="">如果想查看完整的记忆流界面，可以打开Web Viewer：</span></p><pre><span><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="45px" height="13px" viewbox="0 0 450 130"><ellipse cx="50" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"></ellipse><ellipse cx="225" cy="65" rx="50" ry="52" stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"></ellipse><ellipse cx="400" cy="65" rx="50" ry="52" stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"></ellipse></svg></span><code data-language-pending="" data-raw-code="http://localhost:37777" data-show-line-number="false"><span leaf="">http://localhost:37777</span></code></pre><p><span leaf="">在这里你可以看到所有的观察记录、会话摘要，还能通过API引用过去的观察记录。</span></p><h3 data-heading="true"><span leaf="">05 写在最后</span></h3><p><span leaf="">Claude-Mem之所以能火出圈，根本原因在于它解决了一个所有AI编程工具都在回避但又切实存在的问题：</span><strong><span leaf="">AI到底能不能记住上下文？</span></strong></p><p><span leaf="">传统答案是：不能。每个会话都是独立的，Token限制摆在那里，你不可能把所有历史都塞进去。</span></p><p><span leaf="">Claude-Mem 它却可以，但要用对方法。三层渐进式披露、AI自动压缩、本地向量检索...一系列技术组合拳打下来，既保住了上下文连续性，又守住了Token钱包。</span></p><p><span leaf="">更重要的是，Claude-Mem本身100%免费，还能帮你省Token钱。</span></p><p><span leaf="">对于那些每天和Claude Code打交道超过几小时的开发者来说，这玩意儿基本上属于“用了就回不去”系列。</span></p><p><span leaf="">GitHub：</span></p><blockquote><p><span leaf=""><span textstyle="">https://github.com/thedotmack/claude-mem</span></span></p></blockquote></section><section data-pm-slice="0 0 []"><section><section><section><section><svg viewbox="0 0 1 1"></svg></section></section></section><section><section><p><span leaf="">END</span></p></section><section><section><svg viewbox="0 0 1 1"></svg></section></section></section><section><section><section><svg viewbox="0 0 1 1"></svg></section></section></section></section><section><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_jpg/2kbib4svZTtChzvXKe6s3lZfyJictVEHgaqOokYPSzcd5F7iapMthmUvlIMbST9WibwWlLXJt6NHc4zJCYJlmAPllQHRAABhNibnQcwVbkJuvXV4/640?wx_fmt=jpeg&amp;from=appmsg" data-ratio="0.5490741" data-s="300,640" data-type="jpeg" data-w="1080" data-imgfileid="501507832" data-aistatus="1" src="https://mmbiz.qpic.cn/mmbiz_jpg/2kbib4svZTtChzvXKe6s3lZfyJictVEHgaqOokYPSzcd5F7iapMthmUvlIMbST9WibwWlLXJt6NHc4zJCYJlmAPllQHRAABhNibnQcwVbkJuvXV4/640?wx_fmt=jpeg&amp;from=appmsg"></section></section><section><p><span><span leaf="">未闻 Code·知识星球开放啦！</span></span></p><p><span leaf="">一对一答疑爬虫相关问题</span></p><p><span leaf="">职业生涯咨询</span></p><p><span leaf="">面试经验分享</span></p><p><span leaf="">每周直播分享</span></p><p><span leaf="">......</span></p><p><span leaf="">未闻 Code·知识星球期待与你相见~</span></p><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_gif/ohoo1dCmvqeiagWjcfyicsibNKgNOEnyAkb06AMF5eG1K2jEXjUxqkV9EUaNXIjDEibQPAV2sJak2dJibiamc2jw0z6g/640?wx_fmt=gif" data-ratio="0.5555555555555556" data-type="gif" data-w="639" type="block" data-imgfileid="501494151" data-aistatus="1" src="https://mmbiz.qpic.cn/mmbiz_gif/ohoo1dCmvqeiagWjcfyicsibNKgNOEnyAkb06AMF5eG1K2jEXjUxqkV9EUaNXIjDEibQPAV2sJak2dJibiamc2jw0z6g/640?wx_fmt=gif"></section></section></section><p><span leaf=""> </span></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/q0oWYgPwm2nijqgjo_zPZg",target="_blank" rel="noopener noreferrer">原文链接</a>
