---
title: "如何用 Claude 3 Haiku 帮你低成本快速自动分析数据？"
date: 2024-04-06T23:36:01Z
draft: ["false"]
tags: [
  "fetched",
  "玉树芝兰"
]
categories: ["Duty"]
---
如何用 Claude 3 Haiku 帮你低成本快速自动分析数据？ by 玉树芝兰
------
<div><section><section><section><p><span>（注：本文为小报童精选文章。已订阅小报童或加入知识星球「玉树芝兰」用户<strong>请勿重复付费</strong>）</span></p></section><section><p><span><img data-imgfileid="506062375" data-ratio="0.5712962962962963" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlqSlibKibYldSuMgTm2f6s0N5ZpZicrSdRff1c7hjsZzJVzkYXD17HTG2w/640?wx_fmt=other&amp;from=appmsg" data-type="other" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlqSlibKibYldSuMgTm2f6s0N5ZpZicrSdRff1c7hjsZzJVzkYXD17HTG2w/640?wx_fmt=other&amp;from=appmsg"></span></p></section><section><br></section></section><section><section><h2>吐槽</h2></section><section><br></section><section><p><span>事情先得从一张图说起。那天我在 Hugging Face 上看到一份大语言模型排行榜。</span></p></section><section><br></section><section><p><span><img data-imgfileid="506062374" data-ratio="0.5462962962962963" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlzjGufARXNCTwAy7W2oEeJfxMFibiajm08bo0P2LO1ShEBWdkvib90Gq4w/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlzjGufARXNCTwAy7W2oEeJfxMFibiajm08bo0P2LO1ShEBWdkvib90Gq4w/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><br></section><section><p><span>这张图显示，现在头部模型的排名里，Claude 3 Opus 已登顶，超越了此前的王者 GPT-4。令人惊讶的是，号称 Claude 3 「中杯」 的 Haiku，排名竟然超过了去年 6 月的 GPT-4。</span></p></section><section><p><span>` 要知道，Haiku 只是 Claude 3 序列中最轻量级的模型，很多人一直把它跟 ChatGPT 3.5 Turbo 相提并论，难道它的能力真的已经超越了余威尚存的 GPT-4?</span></p></section><section><p><span>带着疑问，我在知识星球发了一条吐槽：</span></p></section><section><blockquote><p><span>这未免有些骇人听闻了。Claude 3 Haiku 确实不错，我现在就常用它来做长文中译英。但你要是说它的能力超过 GPT-4 （尽管是 0613）版本，也着实有些夸张。对比一下价格，GPT-4 用户还不得吐血啊？😂</span></p></blockquote></section><section><p><span><img data-imgfileid="506062371" data-ratio="0.7638888888888888" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlpjdJYM4PJicfhZln3pWk0ANXBeudE4LJAKKyUj384VlDJTJIx78g9fg/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlpjdJYM4PJicfhZln3pWk0ANXBeudE4LJAKKyUj384VlDJTJIx78g9fg/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>我这可不是瞎说的。就在看到这张榜单的前一天，我还写了一篇文章《<a href="https://mp.weixin.qq.com/s?__biz=MzIyODI1MzYyNA==&amp;mid=2653545980&amp;idx=1&amp;sn=4f31afe86fdd758fd74f4ff1a84cb49e&amp;scene=21#wechat_redirect" data-linktype="2">如何用 Claude 3 API 自动化处理任务？</a>》</span></p></section><section><p><span><img data-imgfileid="506062373" data-ratio="1.1018518518518519" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlMgFiaRUT3IiaLNWqgLd9r56l5PjBLib5ZgBXywHFIvjia4wkLzyicVTicqyQ/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlMgFiaRUT3IiaLNWqgLd9r56l5PjBLib5ZgBXywHFIvjia4wkLzyicVTicqyQ/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>文中我通过多次实际测试得出结论 —— 对于翻译，用 Haiku 足矣；但想润色文本，则需要用到 Sonnet 「大杯」，甚至是 Opus 这样的「超大杯」模型。可见这几个型号的能力差异是明显的。</span></p></section><section><p><span><img data-imgfileid="506062372" data-ratio="0.6185185185185185" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlGmic5k0SWBDNL4KibbVV0ybuP4hMnFHib9banHRso2XBKalbzCBoNXk3A/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlGmic5k0SWBDNL4KibbVV0ybuP4hMnFHib9banHRso2XBKalbzCBoNXk3A/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>但是，没想到，刚吐槽完就被打脸啊。</span></p></section><section><br></section></section><section><section><h2>纠结</h2></section><section><br></section><section><p><span>4 月 14 日，我要应邀做一个线上工作坊，主题是「借助智能工具实现数据分析与可视化」。</span></p></section><section><p><span><img data-imgfileid="506062376" data-ratio="1.411764705882353" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlvWEgYrjwiatsAic13rng1vY3JF5c1ndSUHYoOYk6Qe7lIbicKLMXSMIUA/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="629" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlvWEgYrjwiatsAic13rng1vY3JF5c1ndSUHYoOYk6Qe7lIbicKLMXSMIUA/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><br></section><section><p><span>原本我打算只用智谱清言的数据分析模式来讲。</span></p></section><section><p><span><img data-imgfileid="506062378" data-ratio="0.6203703703703703" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlvPcfnq6tc3fXYUbJiaPfNl60D1tX9KibY7ABejcB6iaZlVcGjia3URj4bQ/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlvPcfnq6tc3fXYUbJiaPfNl60D1tX9KibY7ABejcB6iaZlVcGjia3URj4bQ/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>因为之前我就用它处理过鸢尾花数据集的分析，效果不错。</span></p></section><section><p><span><img data-imgfileid="506062377" data-ratio="0.6842592592592592" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlFB5qCLLwB2tOIpWmf2c3tInD4n4vmQsZONjlDeyYMgeEEnicCpXkMDQ/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlFB5qCLLwB2tOIpWmf2c3tInD4n4vmQsZONjlDeyYMgeEEnicCpXkMDQ/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>你看，可以分析数据基本信息，还能做分布。</span></p></section><section><p><span><img data-imgfileid="506062379" data-ratio="0.6842592592592592" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JljMNd0Yj1sl8zXgLUhwJhjBoqHzLbqa49kJgAbZR1Cjw678ZxOWdjfg/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JljMNd0Yj1sl8zXgLUhwJhjBoqHzLbqa49kJgAbZR1Cjw678ZxOWdjfg/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><br></section><section><p><span>就连机器学习建模，也不在话下。</span></p></section><section><p><span><img data-imgfileid="506062380" data-ratio="0.7296296296296296" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlOIQab9EY8fI3mxp9GnHXJkOkB1CaCBSfkyQmibqrN2SMia8vwuShmN3Q/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlOIQab9EY8fI3mxp9GnHXJkOkB1CaCBSfkyQmibqrN2SMia8vwuShmN3Q/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>但我让自己的研究生们试用后，他们反馈说智谱清言的输出不稳定，甚至即便反复调整提示词也无法达到理想的效果。</span></p></section><section><br></section><section><p><span><img data-imgfileid="506062385" data-ratio="0.34629629629629627" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9Jl5ibl9whOrv0ALSIgPNJ58UTFmw1JtaMc1iaq2MINwzSBJlP0tVm3YIJA/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9Jl5ibl9whOrv0ALSIgPNJ58UTFmw1JtaMc1iaq2MINwzSBJlP0tVm3YIJA/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><br></section><section><p><span>至于词云，干脆就做不出来。</span></p></section><section><br></section><section><p><span>没办法，我只好把同样的问题丢给 ChatGPT，结果人家做个词云轻而易举。</span></p></section><section><br></section><section><p><span><img data-imgfileid="506062386" data-ratio="0.6203703703703703" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlUuFSPLgd5hvVU25bA3gYUud3n0ODcQxicoQZg0GTDibsmjwQa4BNJgmw/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlUuFSPLgd5hvVU25bA3gYUud3n0ODcQxicoQZg0GTDibsmjwQa4BNJgmw/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><br></section><section><p><span>不过 GPT-4 的访问成本着实不低，令许多学生望而却步。另外他们注册 ChatGPT Plus 账户也并不那么顺畅。工作坊用 ChatGPT 的 Code Interpreter 练手不大现实。怎么办呢？</span></p></section><section><br></section></section><section><section><h2>解法</h2></section><section><br></section><section><p><span>我突然想起自己去年 9 月写过一篇文章《<a href="https://mp.weixin.qq.com/s?__biz=MzIyODI1MzYyNA==&amp;mid=2653545713&amp;idx=1&amp;sn=e0750dbf04048a6873461198d13e0982&amp;chksm=f3898e26c4fe0730ee23c56c08e86b7fa6d579695c38c9e6c0437f8c5bf273bc7882e1c7efbe&amp;scene=21#wechat_redirect" data-linktype="2">如何用 Open Interpreter 帮你自动做数据可视化？</a>》。</span></p></section><section><p><span><img data-imgfileid="506062383" data-ratio="1.0185185185185186" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlEknibtYFdV4tJ8QlCPpq6qicbjmGCoFWlPlUriaNTyMguHRg6OhA22DQQ/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlEknibtYFdV4tJ8QlCPpq6qicbjmGCoFWlPlUriaNTyMguHRg6OhA22DQQ/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>当时咱们就是用 Open Interpreter 替代了 ChatGPT 的 Code Interpreter 模式，证明它完全有能力胜任各种数据分析与可视化任务。</span></p></section><section><br></section><section><p><span><img data-imgfileid="506062384" data-ratio="0.9851851851851852" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlkwWBM2Z3zvO9gZzr6bnoCxYnsNGAVnz6ViaKcAc12icoYI8YctIgmhRQ/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlkwWBM2Z3zvO9gZzr6bnoCxYnsNGAVnz6ViaKcAc12icoYI8YctIgmhRQ/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>更重要的是，Open Interpreter 可以充分利用本地的计算资源，而不必局限在一个远程的定时虚拟机中操作。这样一来，不仅数据处理速度更快，可以分配的内存和硬盘空间更大，还能按需安装第三方软件包，总之非常灵活。</span></p></section><section><p><span>但问题是，当初我也测试过，Open Interpreter 需要调用 GPT-4 的 API 才能真正发挥出威力。如果使用 ChatGPT 3.5 Turbo，效果立即大打折扣，更不用说那些 7B, 13B 的开源小模型了。</span></p></section><section><p><span>可是如果非得使用 GPT-4 作为后台模型，就出现了成本高、速度慢，甚至是多轮对话后 Open Interpreter 「健忘」等问题。这些障碍在当时都给我带来不少困扰。所以后续无论是教学还是自己用，我使用 Open Interpreter 的频率都很低。</span></p></section><section><br></section></section><section><section><h2>灵光</h2></section><section><p><span>成本高、速度慢、健忘…… 我念叨着这些问题，突然灵光一现！</span></p></section><section><p><span>用 Claude 3 Haiku 似乎能全部解决这些问题啊 —— 它响应速度快，平均每秒能产生 100 多个 token；它价格低廉，日常的文本处理频繁调用成本也可以忽略不计；它支持多达 20 万 token 的上下文窗口，可以流畅地进行多轮对话。如果把 Open Interpreter 的后端模型换成 Haiku，上述问题岂不就完美解决了？</span></p></section><section><p><span>我马上做了测试。这是 Open Interpreter 用 Haiku 后分析 《三国演义》 部分人物出场次数，并且输出了前 10 名的排序图。</span></p></section><section><p><span><img data-imgfileid="506062382" data-ratio="0.5" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlMTEhn8HlsyZJQfnkdiaQO4Z8AojoLn6tHBOGvwicAic2OXsSC4niauGoZA/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlMTEhn8HlsyZJQfnkdiaQO4Z8AojoLn6tHBOGvwicAic2OXsSC4niauGoZA/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><br></section><section><p><span>我还利用它绘制了 Friends 的词云图，效果非常不错。</span></p></section><section><br></section><section><p><span><img data-imgfileid="506062389" data-ratio="0.5" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlqkDzjuaIbqSgcr5Wctx9nGr67chuN9ic7Ba45JOiaB0KXcztZlLMdRHA/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlqkDzjuaIbqSgcr5Wctx9nGr67chuN9ic7Ba45JOiaB0KXcztZlLMdRHA/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><br></section><section><p><span>连中文的词云，也是非常顺畅生成。</span></p></section><section><p><span><img data-imgfileid="506062388" data-ratio="0.5" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlUp32Z0fic9ycEEmEpjHBOmbdFDshcJosavI3RnTBngqdZELJBmCn8kQ/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" title="" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/6fHkSrNbAAtElJHN5m430Wibb8018w9JlUp32Z0fic9ycEEmEpjHBOmbdFDshcJosavI3RnTBngqdZELJBmCn8kQ/640?wx_fmt=jpeg&amp;from=appmsg"></span></p></section><section><p><span>要知道，这些可视化任务如果用 ChatGPT 的 Code Interpreter 来做，也未必能如此顺利 —— 因为它不一定装得上所需的依赖库和中文字体。</span></p></section><section><p><span>不过要上手用 Claude 3 的 API，还是有些门槛。因为注册账号、充值等操作对普通用户来说可能有点麻烦。</span></p></section><p><mp-pay-preview-filter data-offset="71"></mp-pay-preview-filter></p></section></section></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/Ap3DKHweoHkHNkI61-_IWg",target="_blank" rel="noopener noreferrer">原文链接</a>
