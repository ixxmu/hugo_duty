---
title: "赶快自查，Ollama重大安全隐患"
date: 2025-02-12T14:51:57Z
draft: ["false"]
tags: [
  "fetched",
  "未闻Code"
]
categories: ["Duty"]
---
赶快自查，Ollama重大安全隐患 by 未闻Code
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><p><img data-ratio="0.6953125" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/ohoo1dCmvqf7grcAGVIsDpXN5hice1ccoMtI8uhubdkwwqwlYibC6FIYNic7GM7iaH1rCIEB2SgmUDrHeGO26wMzUg/640?wx_fmt=jpeg" data-type="jpeg" data-w="1280" src="https://mmbiz.qpic.cn/mmbiz_jpg/ohoo1dCmvqf7grcAGVIsDpXN5hice1ccoMtI8uhubdkwwqwlYibC6FIYNic7GM7iaH1rCIEB2SgmUDrHeGO26wMzUg/640?wx_fmt=jpeg"></p><section><span>摄影：产品经理</span></section><section><span>烤五花肉鳗鱼卷</span></section><p data-tool="mdnice编辑器">这段时间，大量的公众号蹭热度，发Ollama部署DeepSeek模型的文章。这些文章不仅千篇一律毫无特点，而且还让很多人面临了重大的安全隐患。</p><p data-tool="mdnice编辑器">大家应该听过，之前有不少人把没有密码的Redis开放到公网，导致被人扫描到默认端口以后，服务器被控制。把没有密码的MongoDB开放到公网，导致数据被清空，还被写入了勒索信息。</p><p data-tool="mdnice编辑器">Ollama也有一样的问题！当你安装了Ollama以后，它默认会开启11434端口，如果你设置了0.0.0.0对公网开放并且你服务器没有安装防火墙，或者安全组端口范围设置的太宽，那么任何人都可以直接使用你的IP和端口访问到你部署的Ollama！</p><p data-tool="mdnice编辑器">有一个网站叫做Fofa，专门扫描收集这种开放的服务，如下图所示：</p><figure data-tool="mdnice编辑器"><img alt="" data-imgfileid="501506454" data-ratio="0.8649093904448105" data-src="https://mmbiz.qpic.cn/mmbiz_png/ohoo1dCmvqf7grcAGVIsDpXN5hice1ccoOQ7jYgj4DbCsIgTomw4UpjlMVyibPpnkp5d3PKkibWMBdcSo6FWPd2jA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1214" src="https://mmbiz.qpic.cn/mmbiz_png/ohoo1dCmvqf7grcAGVIsDpXN5hice1ccoOQ7jYgj4DbCsIgTomw4UpjlMVyibPpnkp5d3PKkibWMBdcSo6FWPd2jA/640?wx_fmt=png&amp;from=appmsg"></figure><p data-tool="mdnice编辑器">可以看到很多人在服务器上安装了Ollama并且没有做任何防护！。这个时候，你直接访问这个服务器上面Ollama启动的Rest API，就可以做很多事情。</p><p data-tool="mdnice编辑器">访问<code>/api/tags</code>可以列出服务器安装的大模型，如下图所示：</p><figure data-tool="mdnice编辑器"><img alt="" data-imgfileid="501506453" data-ratio="0.5794117647058824" data-src="https://mmbiz.qpic.cn/mmbiz_png/ohoo1dCmvqf7grcAGVIsDpXN5hice1ccoRkYOuaJoRvzaIibNRhS49N75M3hbvK0rOAH8eVVqiaKJ6MYlIpDpSUYw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="680" src="https://mmbiz.qpic.cn/mmbiz_png/ohoo1dCmvqf7grcAGVIsDpXN5hice1ccoRkYOuaJoRvzaIibNRhS49N75M3hbvK0rOAH8eVVqiaKJ6MYlIpDpSUYw/640?wx_fmt=png&amp;from=appmsg"></figure><p data-tool="mdnice编辑器">访问<code>/api/chat</code>接口就可以直接跟大模型聊天。</p><p data-tool="mdnice编辑器">在<span>Ollama的Restful API文档</span><sup>[1]</sup>，你可以看到它支持的各种操作，无论是下载新模型，还是删除已有模型都可以。别人可以轻轻松松直接窃取你的服务器算力。</p><p data-tool="mdnice编辑器">在自己服务器上面安装了Ollama的同学，尽快自查！</p><section data-tool="mdnice编辑器"><span>参考资料</span></section><section data-tool="mdnice编辑器"><span><span>[1]</span><p>Ollama的Restful API文档: <em>https://github.com/ollama/ollama/blob/main/docs/api.md#create-a-model</em></p></span></section></section><p data-tool="mdnice编辑器"><img data-imgfileid="501506461" data-ratio="0.562962962962963" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/ohoo1dCmvqd9Jsvfk2T1Te4On5PpDd0Go7SpG0MZIp2RaYicMzbJTZvbrHKCU6P6B7QozMsrzgdxX9yEbhfdFUw/640?wx_fmt=jpeg&amp;from=appmsg" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_jpg/ohoo1dCmvqd9Jsvfk2T1Te4On5PpDd0Go7SpG0MZIp2RaYicMzbJTZvbrHKCU6P6B7QozMsrzgdxX9yEbhfdFUw/640?wx_fmt=jpeg&amp;from=appmsg"></p><section><section><section><p>END</p></section><section><section><svg viewbox="0 0 1 1"></svg></section></section></section><section><section><section><svg viewbox="0 0 1 1"></svg></section></section></section></section><section><section><img data-imgfileid="501506460" data-ratio="0.549074074074074" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/ohoo1dCmvqdSDFIpppxG0Yl2ySNCUsrMtWWyfEKPSMkT2BbQtnJnjOaYzvl7tXLoP4xCLrlSJffTF6ZMsANgyw/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_jpg/ohoo1dCmvqdSDFIpppxG0Yl2ySNCUsrMtWWyfEKPSMkT2BbQtnJnjOaYzvl7tXLoP4xCLrlSJffTF6ZMsANgyw/640?wx_fmt=jpeg&amp;from=appmsg"></section></section><section><p><span>未闻 Code·知识星球开放啦！</span></p><p>一对一答疑爬虫相关问题</p><p>职业生涯咨询</p><p>面试经验分享</p><p>每周直播分享</p><p>......</p><p>未闻 Code·知识星球期待与你相见~</p></section><section><section><section><section><img data-imgfileid="501506459" data-ratio="0.5555555555555556" data-s="300,640" data-type="gif" data-w="639" data-src="https://mmbiz.qpic.cn/mmbiz_gif/ohoo1dCmvqdSDFIpppxG0Yl2ySNCUsrMJ4Bp4xBwb0shg9pLuSWqkaFIaLEibHGS3ic2SIrw8Q8LoiaxXa89JC5wA/640?wx_fmt=gif&amp;from=appmsg" src="https://mmbiz.qpic.cn/mmbiz_gif/ohoo1dCmvqdSDFIpppxG0Yl2ySNCUsrMJ4Bp4xBwb0shg9pLuSWqkaFIaLEibHGS3ic2SIrw8Q8LoiaxXa89JC5wA/640?wx_fmt=gif&amp;from=appmsg"></section></section></section></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/rsENKNa8WskzzlDg9_LLJg",target="_blank" rel="noopener noreferrer">原文链接</a>
